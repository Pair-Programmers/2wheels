function set_category_name(){$("#category_selector").val("");var e=$("#parent_category_id").val(),a=$("#ad_listing_category_id").val(),i=$("#category_"+e).text();if(""!=e&&""!=a){$(".car-select-parent").addClass("input-success"),$(".car-select-parent").removeClass("input-failure");var t=$("#model_"+a).text(),n=i+" "+t}else $(".car-select-parent").removeClass("input-success"),$(".car-select-parent").addClass("input-failure"),$("#category_selector").siblings(".parsley-errors-list").first().html('<li class="parsley-custom-error-message">please select accessory sub-category</li>'),i&&trackEvents("AccessorySell","Category",i.trim());i&&t&&trackEvents("AccessorySell","Category",i.trim()+","+t.trim()),$("#category_selector").val(n)}function handle_category_select(e){$("#parent_category_id").val(e),$("#parent_category_id").trigger("change"),$("#ad_listing_category_id").val(""),$(".model-listings.show").addClass("hide"),$(".model-listings.show").removeClass("show"),$(".models_for_"+e).removeClass("hide"),$(".models_for_"+e).addClass("show"),$(".make-listings .make.current").removeClass("current"),$(".model-listings .model.current").removeClass("current"),$("#category_"+e).addClass("current"),set_category_name(),$(".submit-button").attr("disabled","disabled"),$(".submit-button").removeClass("btn-primary")}function handle_subcategory_select(e){$("#ad_listing_category_id").val(e),$("#ad_listing_category_id").trigger("change"),$(".model-listings .model.current").removeClass("current"),$("#model_"+e).addClass("current"),e&&($(".submit-button").removeAttr("disabled"),$(".submit-button").addClass("btn-primary")),$("#get-car-name").modal("hide"),set_category_name()}$(function(){$(".make-listings .make").click(function(){var e=$(this).data().make;handle_category_select(e),$(".cat-selection.active").removeClass("active"),$(".cat-selection.models").addClass("active")}),$(".model-listings .model").click(function(){var e=$(this).data().model;handle_subcategory_select(e)}),$("#category_selector").focus(function(){$("#category_selector_error").hide().html(""),$("#get-car-name").modal()});var e=$("#parent_category_id").val(),a=$("#ad_listing_category_id").val();handle_category_select(e),handle_subcategory_select(a),$("#category_selector").parsley().destroy&&$("#category_selector").parsley().destroy(),$("#get-car-name").on("shown",function(){var e=$(".make-listings .make.current").position();e&&$(".make-listings").scrollTop(e.top+$(".make-listings").scrollTop()-200);var a=$(".model-listings .model.current").position();a&&$(".model-listings.show").scrollTop(a.top+$(".model-listings.show").scrollTop()-200)})});